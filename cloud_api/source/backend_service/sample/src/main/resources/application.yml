server:
  port: 6789
spring:
  main:
    allow-bean-definition-overriding: true
  application:
    name: cloud-api-sample
  datasource:
    druid:
      type: com.alibaba.druid.pool.DruidDataSource
      driver-class-name: com.mysql.cj.jdbc.Driver
      url: jdbc:mysql://cloud_api_sample_mysql:3306/cloud_api?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
      username: root
      password: root
      initial-size: 10
      min-idle: 10
      max-active: 20
      max-wait: 60000

  redis:
    host: cloud_api_sample_redis  # 修改為 Redis 服務名稱
    port: 6379
    database: 0
    username: # if you enable
    password:
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0

  servlet:
    multipart:
      max-file-size: 2GB
      max-request-size: 2GB

jwt:
  issuer: DJI
  subject: CloudApiSample
  secret: CloudApiSample
  age: 86400

mqtt:
  # @see com.dji.sample.component.mqtt.model.MqttUseEnum
  # BASIC parameters are required.
  BASIC:
    protocol: MQTT
    host: emqx-broker  # 修改為 EMQX 服務名稱
    port: 1883
    username:  # 設置為空，匹配 EMQX 的匿名連線
    password:  # 設置為空
    client-id: 123456
    path:
  DRC:
    protocol: WS
    host: emqx-broker  # 修改為 EMQX 服務名稱
    port: 8083
    path: /mqtt
    username:  # 設置為空
    password:  # 設置為空

cloud-sdk:
  mqtt:
    inbound-topic: sys/product/+/status,thing/product/+/requests

url:
  manage:
    prefix: manage
    version: /api/v1
  map:
    prefix: map
    version: /api/v1
  media:
    prefix: media
    version: /api/v1
  wayline:
    prefix: wayline
    version: /api/v1
  storage:
    prefix: storage
    version: /api/v1
  control:
    prefix: control
    version: /api/v1

oss:
  enable: true
  provider: MINIO
  endpoint: http://minio:9000  # 修改為 MinIO 服務名稱
  access-key: ROOTUSER
  secret-key: CHANGEME123
  expire: 3600
  region: us-east-1
  role-session-name: cloudApi
  role-arn: ""
  bucket: crack-detection
  object-dir-prefix: drone-auto-upload

logging:
  level:
    com.dji: debug
  file:
    name: logs/cloud_api_sample.log  # 修改為通用日誌路徑

ntp:
  server:
    host: Google.mzr.me

cloud-api:
  app:
    id: 155772
    key: 22b0892c64036a75876bfac00d00cd6
    license: QQyAn2xrL6QwTUsUuYWVrLQPUIor77xjBSEWh7zazMYhzk0yDttzmZxpEDOTPx250Nlv6oJJWtYn6OPvX7RXskwXhGo1BJkO/+M2nwcUFfD0w8SRu94c+B1L40ppJxeGlarr2nkxvzmbS88R0RHnXcruQHQW94Wu8182C8z/ixQ=

livestream:
  url:
    rtmp:
      url: #rtmp://minio:9000/live/60856983  # 修改為 MinIO 或正確的流媒體服務
    rtsp:
      username: root
      password: root
      port: 8554
    whip:
      url: #http://minio:1985/rtc/v1/whip/?app=live&stream=60856983  # 修改為正確的 WebRTC 服務

python:
  host: python  # 修改為 Python 服務名稱
  port: 8000